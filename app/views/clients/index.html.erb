<div class='client-index-page'>
  <div class='client-search-bar'>
    <%= form_tag clients_url, method: 'get' do %>
      <%= text_field_tag :search, nil, placeholder: 'Search for your clients...', class: 'search-input' %>
      <%= submit_tag 'Search', class: 'search-submit' %>
    <% end %>
  </div>

  <section class='client-list'>
    <ul class='ul-client-list'>
      <% @clients.each do |client| %>
        <li class='client'>
          <%= client.name %>
          <aside class='client-buttons'>
            <%= link_to 'Start workout', new_workout_session_url(client_id: client.id), class: 'client-start-workout' %>
            <%= link_to 'Manage account', client_url(client.id), class: 'client-manage-account' %>
          </aside>
        </li>
      <% end %>
    </ul>
  </section>
</div>

<script type='text/javascript'>
$(function() {
    var availableTags = <%= @clients.collect{ |client| client.name }.to_json.html_safe %>;
    $( '#search' ).autocomplete({
      source: availableTags
    });
  });
</script>
